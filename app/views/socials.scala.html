@import java.util
@(page: String, money: String, user : model.UserFactory#User, friends : util.List[model.UserFactory#User])(implicit assetsFinder: AssetsFinder)
@import model.UserFactory

<!DOCTYPE html>
<html lang="en">
    <body onload="createFriends()">
@navbar("Socials", money) {
    <div class="row no-gutters">
        <div class="col-lg-4">
            <div class="ui-widget">
                <input type="search" id ="search-user" class="form-control rounded" placeholder="Search for new friends" aria-label="Search" aria-describedby="search-addon" />
                <button type="button" class="btn btn-search"  onclick="search()">search</button>
            </div>
            <!--In this ul all of the friends are displayed -->
            <ul class="list-unstyled chat-list mt-2 mb-0" id="friend-list" >
            </ul>
            <div class="search-friends" id="search-friends"></div>
        </div>
        <div class="col-lg-8">
            <div class="mainbackround">
                <div class="chat-content" id="chat-content">
                    <div class="select-friend" id="select-friend">
                    <!--This div is displayed when you load the page and have not yet selected a friend you want to chat with -->
                    <!--It dissappears as soon as you select a friend-->
                        <h3>Select a friend to start chatting!</h3>
                    </div>
                    <div class="chat-history" id="chat-history">
                    <!--This div is invisible until you select a friend-->
                        <div class="chat-header">
                            <!--The content for the header is set via the openChat() method in javascript-->
                            <span class="btn avatar-background"><img src="" class="socialsAvatar" id="header-avatar"/>
                            </span>
                            <span class="socialsName" id="header-name"></span><br>
                            <span class="friendsRanking" id="header-username"></span>
                            <button type="button" class="btn btn-show-profile" onclick="openModal()">Show profile</button>
                        </div>
                        <div class="chat-messages">
                            <ul id="chat-list">
                                    <!--The content of the chat is generated by using the getMessages() function in javascript-->
                                    <!--It is displayed as single li items which each contain a div with the message-->
                            </ul>
                        </div>
                        <div class="chat-input">
                        <div class="input-group">
                            <input type="text" class="form-control rounded" placeholder="Write a message to your friend" aria-label="Message" id="message" />
                            <button type="button" class="btn btn-message" onclick="sendMessage()">send</button>
                        </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="friendModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
    aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalCenterTitle">Friends Profile</h5>
                    <button type="button" class="close btn btn-danger" data-dismiss="modal" aria-label="Close"
                    onclick="closeModal()">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="row modal-body justify-content-center align-items-center">
                    <div class="container mt-4 mb-4 p-5 d-flex justify-content-center">
                        <div class="card p-1">
                            <div class="image d-flex flex-column justify-content-center align-items-center m-4">
                                    <!--            trigger modal with button behind image-->
                                <button type="button" class="btn btn-backround" ><img
                                src="@assetsFinder.path("images/avatar.png")"
                                alt="avatar" height="130" width="130" id="friendsAvatar"/></button>
                                <span class="name mt-3" id="friendsName"></span>

                                    <!--            <div type="button" onclick="editUsername()">-->
                                <input class="profilename text-center" type="text" id="profilename" readonly>
                                    <!--            </div>-->
                                <div class="d-flex flex-row justify-content-center align-items-center gap-2 mb-3">
                                    <div id="level" class="level">Baristagod</div>
                                    <span><i class="fa fa-copy"></i></span></div>
                                <div class="d-flex flex-row justify-content-center align-items-center mt-3">
                                    <div id="points" class="points"></div>
                                </div>
                                <div class="d-flex flex-row justify-content-center align-items-center mb-4">
                                    <div id="highscore" class="highscore">Highscore</div>
                                </div>
                                <div class="text m-3"><span>
                                    Current Occupation: Student.</span>
                                </div>
                                    <!--            <div class="gap-3 mt-3 icons d-flex flex-row justify-content-center align-items-center"> <span><i class="fa fa-twitter">hi</i></span> <span><i class="fa fa-facebook-f"></i></span> <span><i class="fa fa-instagram"></i></span> <span><i class="fa fa-linkedin"></i></span> </div>-->
                                <div class=" px-2 rounded date"><span class="join">Joined May,2021</span></div>
                            </div>
                        </div>
                </div>
            </div>
        </div>
    </div>
    </div>
<script type="text/javascript" src="@assetsFinder.path("javascripts/socials.js")"></script>
</body>
</html>
}